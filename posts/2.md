# My.GG

![mainpage](/images/Mygg-MainPage.png)
🌐 **サイト URL**  
[MyGG](https://mygg.lol)

## 📌 プロジェクト紹介

**MyGG** は、_League of Legends_ の戦績検索および統計分析を提供する Web サービスです。  
Riot Games API を活用し、ゲームデータを取得・提供します。

## 🛠 技術スタック

### **Backend**

- Java 17
- Spring Boot 3.x
- JPA / Hibernate
- MySQL
- MongoDB

### **Frontend**

- React
- Styled-components
- Zustand
- React-router-dom

## 👥 担当範囲

- **フロントエンド (100%)**

  - **プロジェクト全体のアーキテクチャ設計**
    - フロントエンドのディレクトリ構成の策定と設計指針の確立
    - 再利用性と拡張性を考慮したコンポーネント設計
  - **API 通信構造の設計と最適化**
    - バックエンドとのインターフェース設計（エンドポイント定義、リクエスト/レスポンス仕様の整備）
    - 非同期データ取得の最適化（ローディング管理）
  - **ページおよびコンポーネントの開発**
    - UI/UX を考慮したページレイアウトと動的コンポーネントの実装
    - 状態管理（Zustand）の適用とパフォーマンス最適化
  - **パフォーマンス最適化とユーザーエクスペリエンス向上**
    - Lazy Loading（コード分割）を活用し、初回ロード時間の短縮
    - useDebounce カスタムフックを活用した検索 API 通信の最適化

- **バックエンド(10%)**
  - DB、API 設計
  - MongoDB 導入推進

## 🎯 主な機能

- ユーザ戦績検索
- ユーザ戦績統計
- ゲームキャラクター情報検索
- ゲームアイテム情報検索

## 🚀 開発のポイント & 工夫した点

### ユーザーのニックネーム検索モーダルコンポーネント

![search](/images/Mygg-SearchComponent.gif)

検索パフォーマンスを向上させるために、`useDebounce` を利用した **カスタムフック** を作成しました。

通常、`onChange` イベントで検索 API をトリガーすると、ユーザーが入力するたびに API リクエストが発生し、無駄な通信が増加してしまいます。

これを防ぐために、一定時間内に連続して発生した入力イベントのうち、**最後のイベントのみ API を実行する仕組み** を導入し、無駄なリクエストを削減しました。

### ルーティングベースのレイジーローディング

React Router DOM のルートごとに `lazy` を用いたレイジーローディングを実装し、初回ビルド時のバンドルサイズを約 **100KB 削減** しました。
この最適化により、**FCP（First Contentful Paint）および LCP（Largest Contentful Paint）のスコアが 5〜10 ポイント程度向上** しました。

### 画像ホバー時のツールチップ表示コンポーネント

![hover](/images/Mygg-ItemHover.gif)

ゲーム内のキャラクターやアイテム画像にホバーすると、情報を表示する **ツールチップコンポーネント** を実装しました。

- `getBoundingClientRect()` を活用し、ホバー位置に応じて適切なツールチップの表示位置を計算。
- 画面上部では **下向きに表示**、画面下部では **上向きに表示** することで、レイアウト崩れを防止。
- イメージのローディング管理を取り入れ、スムーズな UX を実現。

### ゲーム API リクエストのグローバル状態管理

ゲーム内のキャラクターやアイテム情報は、サイト内の **複数のページで共通して使用** されるため、**グローバルステートで一元管理** しました。

- サイトのビルド時に初期データをロードし、グローバルステートに保存。
- **不要な再レンダリングを抑え、データフェッチの回数を最適化。**
- 一度取得したデータをメモリ上に保持し、全体的なパフォーマンスを向上。

これらの最適化により、**アプリケーションの処理効率が向上し、より快適なユーザー体験を実現** しました。

### Riot API のマッチデータ保存における NoSQL 導入

Riot API が提供するマッチの戦績データは約 2,000 行を超える巨大な JSON 形式のデータであるため、MySQL などの RDB で扱う場合、テーブル設計やデータの集計処理が複雑化する課題がありました。
そこで、スキーマレスで柔軟に JSON を扱える MongoDB を導入しました。MongoDB を利用することでカラム設計の負担がなくなり、データ保存の効率化および集計処理（Aggregation Pipeline）による統計・分析も容易になりました。
また、本プロジェクトのデータは更新が不要で、Riot API の構造をそのまま利用できるため、MongoDB が最適だと判断しました。

## 📘 学んだこと

### フロントエンドインターフェース設計の重要性と抽象化構造の確立

Axios を用いた API 通信のための fetch 関数とインターフェース構造を設計する中で、API リクエストロジックの一貫性と再利用性を確保することの重要性を実感しました。

また、React Query などの状態管理ベースのデータフェッチライブラリの導入も検討し、リクエストのキャッシュ、エラーハンドリング、ローディング状態の管理といった複雑な処理を抽象化することで、開発効率や保守性の向上につながることを学びました。

今回は学習コストを考慮し導入を見送りましたが、将来的なスケーラビリティの観点からも有力な選択肢だと考えています。

さらに、バックエンドとの円滑な連携を図るため、API 仕様を事前に定義・ドキュメント化するプロセスの重要性も経験を通じて深く理解しました。

### UX を考慮したカスタムフックの実装とユーザー中心のインタラクション設計

検索機能において useDebounce カスタムフックを自作し、不要な API リクエストを削減しつつ、ユーザーの入力とシステムの応答との適切なバランスを設計する経験を積みました。

単なる機能実装にとどまらず、入力タイミング、ローディングフィードバック、レスポンシブ性など、実際のユーザー体験を意識したロジック設計の重要性を強く感じました。

また、カスタムフックとしてロジックを分離することで、プロジェクト全体で一貫した UX を提供できる再利用可能な構造を構築しました。

### データの特性と活用目的に応じた適切なデータベース選定と設計戦略

Riot API から提供される 2,000 行を超える大量のマッチデータ（JSON）を効率的に保存・活用するために、従来の RDB（MySQL）ではなく、スキーマレス構造を持つ NoSQL（MongoDB） を採用しました。

これにより、複雑なテーブル設計や結合ロジックを簡素化し、MongoDB の Aggregation Pipeline を活用した柔軟な統計処理やデータ分析が可能となりました。

この経験を通して、プロジェクトで扱うデータの構造や CRUD パターン、クエリの特性を分析した上で、最適な技術スタックを選定することの重要性を実践的に学びました。

## 📝 API ドキュメント

本プロジェクトでは、Riot Games が提供する **Data Dragon API** を使用しています。  
[API ドキュメントはこちら](https://developer.riotgames.com/docs/lol)

## 📜 ライセンス

このプロジェクトは **MIT ライセンス** に基づいています。

## 🤝 感謝

本プロジェクトは Riot Games の API を利用しています。  
_League of Legends_ は Riot Games の登録商標です。
